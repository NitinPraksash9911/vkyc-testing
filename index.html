<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Location Fetch</title>
	</head>
	<body>
		<button id="fetch-btn">Fetch Location</button>
		<p id="location"></p>
		<p id="error" style="color: red"></p>

		<script>
			const fetchWebLocationData = () => {
				return new Promise((resolve, reject) => {
					try {
						if ("geolocation" in navigator) {
							navigator.geolocation.getCurrentPosition(
								(position) => {
									resolve({
										lat: position.coords.latitude,
										long: position.coords.longitude,
									});
								},
								(error) => {
									reject(error.message || "Unknown geolocation error");
								}
							);
						} else {
							reject("WEB IMPLEMENTATION - Navigator API not supported");
						}
					} catch (error) {
						reject("WEB IMPLEMENTATION - Location Fetch Error");
					}
				});
			};

			document
				.getElementById("fetch-btn")
				.addEventListener("click", async () => {
					const locationPara = document.getElementById("location");
					const errorPara = document.getElementById("error");
					locationPara.textContent = "";
					errorPara.textContent = "";

					try {
						const data = await fetchWebLocationData();
						locationPara.textContent = `Latitude: ${data.lat}, Longitude: ${data.long}`;
					} catch (err) {
						errorPara.textContent = `Error: ${err}`;
					}
				});
		</script>
	</body>
</html>
